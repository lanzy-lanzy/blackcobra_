{% extends 'base.html' %}

{% block title %}Promotion History - Karate Club{% endblock %}

{% block content %}
<div class="bg-white shadow overflow-hidden sm:rounded-lg p-6">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold text-gray-900">Promotion History</h1>
        <a href="{% url 'promotion_list' %}" class="text-indigo-600 hover:text-indigo-900 font-medium">Back to
            Promotions</a>
    </div>

    <div class="flow-root">
        <ul role="list" class="-mb-8">
            {% for promotion in promotions %}
            <li>
                <div class="relative pb-8">
                    {% if not forloop.last %}
                    <span class="absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200" aria-hidden="true"></span>
                    {% endif %}
                    <div class="relative flex space-x-3">
                        <div>
                            <span
                                class="h-8 w-8 rounded-full bg-indigo-500 flex items-center justify-center ring-8 ring-white">
                                <svg class="h-5 w-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M5 13l4 4L19 7"></path>
                                </svg>
                            </span>
                        </div>
                        <div class="min-w-0 flex-1 pt-1.5 flex justify-between space-x-4">
                            <div>
                                <p class="text-sm text-gray-500">
                                    <span class="font-medium text-gray-900">{{ promotion.trainee.user.get_full_name
                                        }}</span>
                                    promoted from
                                    <span class="font-medium text-gray-900">{{ promotion.belt_from.name|default:"White
                                        Belt" }}</span>
                                    to
                                    <span class="font-medium text-indigo-600">{{ promotion.belt_to.name }}</span>
                                </p>
                            </div>
                            <div class="text-right text-sm whitespace-nowrap text-gray-500">
                                <time datetime="{{ promotion.date|date:'Y-m-d' }}">{{ promotion.date|date:"M j, Y"
                                    }}</time>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
            {% empty %}
            <li class="text-center text-gray-500 py-4">No promotion history found.</li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}